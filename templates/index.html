{%extends "layout.html"%}

{% block main %}
<div class="form-div">
    <h2>USAGE: Type the name of an artists, hit compile, and wait. Depending on artists catalog, could take a long
        time.<br /><br />For multiple artists, separate by a comma and space.<br /><br />To test, use artists with small
        catalogs to minimize retrieval time.
        <br /><br />Example: Louis Pino,
        Aardwolf
    </h2>
    <form method="post" action="/">
        <input type="text" name="artist_names" placeholder="Artist Names">
        <button type="submit">COMPILE</button>
    </form>
</div>

<div class="data-div">
    {% if data %}
    <form action="/download-csv" method="POST">
        <button>DOWNLOAD CSV</button>
        <input type="hidden" name="name" value="Aardwolf">
        <input type="hidden" name="data" value="{{ data }}">
    </form>
    {%for track in data%}
    <div class="track-card">
        <h2>{{track[0]}}</h2>
        {%for key, value in track[1].items()%}
        <p>{{key}}: {{value}}</p>
        {%endfor%}
    </div>
    {%endfor%}
    {%else%}
    <p>No data to display</p>
    {%endif%}
</div>
{% endblock %}